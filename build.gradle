buildscript {
  repositories {
    mavenLocal()
    maven { url 'https://oss.jfrog.org/artifactory/libs-snapshot' }
    jcenter()
  }

  dependencies {
    classpath 'org.gosu-lang.gosu:gradle-gosu-plugin:0.4.0-manifold-SNAPSHOT'
  }

}

apply plugin: 'org.gosu-lang.gosu'

// In this section you declare where to find the dependencies of your project
repositories {
    mavenLocal() //TODO delete me; local debugging
    maven { url 'https://oss.jfrog.org/artifactory/libs-snapshot' }
    jcenter()
}

dependencies {
    compile 'org.slf4j:slf4j-api:1.7.25'
    compile 'org.gosu-lang.gosu:gosu-core:1-manifold-SNAPSHOT'
    compile files('lib/javac.jar')

    testCompile 'junit:junit:4.12'
}

sourceSets.main.gosu.srcDirs = sourceSets.main.java.srcDirs.plus(sourceSets.main.gosu.srcDirs)
sourceSets.main.java.srcDirs = []

//compileGosu.options.forkOptions.jvmArgs += ['-J-Xdebug', '-J-Xrunjdwp:transport=dt_socket,address=5005,server=y,suspend=y']
compileGosu.options.forkOptions.jvmArgs += ['-J-Dcompiler.type=gw']
compileGosu.options.forkOptions.jvmArgs += ['-J-Dmanifold.string.template.disable=true']
compileGosu.options.verbose = true
